{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
    <div id="app">

{% block content_title %}


<div style="display: flex; justify-content: center">
    <h1>Acompanhamento [[filteredCutulre]]</h1>
</div>
{% endblock %}
{% block result_list %}
    
        
        <div class="container-fluid">
            <select class="form-select form-select-lg" aria-label=".form-select-lg example" v-model="filteredCutulre">
                <option v-for="cultura in variedades" :value="cultura">[[cultura]]</option>
            </select>
        </div>
        
        <div class="container-fluid">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Projeto</th>
                        <th style="text-align: center">Cultura</th>
                        <th style="text-align: center">Area Plantada</th>
                        <th style="text-align: center">Area Colhida</th>
                        <th style="text-align: center">Area a Colher</th>
                        <th style="text-align: center">Peso Colhido (Scs)</th>
                        <th style="text-align: center">Produtividade</th>
                    </tr>
                </thead>
                <tbody v-if="filteredArray">
                    <tr v-for="(col,i) in filteredArray">
                    <td>[[ i.split("|")[0] ]]</td>
                    <td style="text-align: center">[[ i.split("|")[1] ]]</td>
                    <td style="text-align: center">[[ col.areaTotal.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }) ]] ha</td>
                    <td style="text-align: center">[[ col.areaColheita.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }) ]] ha</td>
                    <td style="text-align: center">[[ col.saldoColheita.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }) ]] ha</td>
                    <td style="text-align: center">[[ Number(col.pesoColhido).toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }) ]] Scs</td>
                    <td style="text-align: center">[[ col.produtividade.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }) ]] Scs/ha</td>
                </tr>

                </tbody>
                <tfoot>
                    <th scope="row">Totais</th>
                    <td style="text-align: center"></td>
                    <td style="text-align: center; font-weight: bold">[[newTotals.areaTotal.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })]] ha</td>
                    <td style="text-align: center; font-weight: bold">[[newTotals.areaColhida.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })]] ha</td>
                    <td style="text-align: center; font-weight: bold">[[newTotals.saldoColheita.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })]] ha</td>
                    <td style="text-align: center; font-weight: bold">[[newTotals.pesoColhido.toLocaleString("pt-br", {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })]] Scs</td>
                    <td style="text-align: center; font-weight: bold"></td>
                    
                </tfoot>
            </table>     
            <hr>
            <!-- <div>
                {% for i in summary %}
                    <div style="display: flex; gap: 10px">
                        <p> {{i.talhao__fazenda__nome}}</p>
                        <p> {{i.variedade__cultura__cultura}}</p>
                        <p> {{i.area_total}}</p>
                        <p> {{i.area_colheita}}</p>
                        <p> {{i.area_parcial}}</p>

                    </div>
                {% endfor %}
            </div>
            <hr/>
            
                <div style="display: flex; justify-content: center">
                    <h1>Acompanhamento X: Colheita Y</h1>
                </div>
            
            <div>
                {% for i in colheita %}
                    <div style="display: flex; gap: 10px">
                        <p>{{i.plantio__talhao__fazenda__nome}}</p>
                        <p>{{i.peso_kg}} Kg</p>
                        <p>{{i.peso_scs}} Scs </p>
                    </div>
                {% endfor %}
            </div> -->
        </div>
    </div>

    
    
    <script type='text/javascript'>
        var plantio = {{ summary_2|safe }}
        var colheita = {{ colheita_2|safe }}
    </script>
    <script src="{% static 'admin/js/custom_temp.js' %}" type="text/javascript"></script>
    

    

{% endblock %}
{% endblock %}

{% block pagination %}{% endblock %}